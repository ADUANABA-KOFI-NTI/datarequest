<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DEO STAFF RECORDS 2026</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}
.gradient-bg {
    background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 25%, #312e81 50%, #6b21a8 75%, #ec4899 100%);
    background-size: 200% 200%;
    animation: gradient-shift 15s ease infinite;
}
@keyframes gradient-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}
.glass-effect {
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(20px);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}
.card-hover {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}
.card-hover:hover {
    transform: translateY(-6px) scale(1.01);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
}
.input-focus {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.input-focus:focus {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
    border-color: #3b82f6;
}
@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}
.float-animation {
    animation: float 3s ease-in-out infinite;
}
.button-glow:hover {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.6), 0 0 40px rgba(147, 51, 234, 0.4);
}
</style>
</head>
<body class="min-h-screen gradient-bg p-4">
<div class="max-w-5xl mx-auto py-8">
<!-- Header -->
<div class="text-center mb-8">
<div class="inline-block p-6 bg-gradient-to-br from-white to-blue-50 rounded-3xl shadow-2xl mb-6 float-animation border-4 border-white/30">
<svg class="w-20 h-20 text-transparent" fill="url(#icon-gradient)" stroke="url(#icon-gradient)" viewBox="0 0 24 24">
<defs>
<linearGradient id="icon-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
<stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
<stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
</linearGradient>
</defs>
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
</svg>
</div>
<h1 class="text-4xl md:text-6xl font-black text-white mb-4 drop-shadow-2xl tracking-tight">DEO STAFF RECORDS</h1>
<div class="inline-block px-6 py-3 bg-white/20 backdrop-blur-md rounded-2xl border-2 border-white/40 mb-4">
<p class="text-white text-lg md:text-2xl font-bold">2026 DATA UPDATE</p>
</div>
<p class="text-blue-100 text-lg font-semibold mt-3">STATISTICS & PLANNING UNIT</p>
<p class="text-blue-200 text-sm mt-1">Ahafo Ano South-West Education Directorate</p>
</div>

<!-- Main Form Card -->
<div class="glass-effect rounded-3xl shadow-2xl p-8 md:p-12 mb-6 border-2 border-white/50">
<!-- Status Message -->
<div id="statusMessage" class="hidden mb-6 p-5 rounded-2xl flex items-start gap-3 border-2">
<svg id="statusIcon" class="w-7 h-7 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"></svg>
<span id="statusText" class="font-semibold text-lg"></span>
</div>

<!-- Staff ID Authentication -->
<section id="authSection" class="mb-10">
<div class="flex items-center gap-3 mb-6">
<div class="w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-xl">
<span class="text-white font-bold text-2xl">1</span>
</div>
<h2 class="text-2xl md:text-4xl font-bold text-gray-800">Enter Your Staff ID</h2>
</div>
<div class="max-w-2xl">
<label class="block text-sm font-bold text-gray-700 mb-3">Staff ID *</label>
<input type="tel" inputmode="numeric" pattern="[0-9]*" id="staffIdInput" placeholder="Enter your Staff ID" class="w-full px-5 py-4 border-2 border-gray-300 rounded-2xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg mb-3" required>
<button id="searchStaffBtn" class="w-full px-10 py-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold text-base md:text-lg rounded-2xl hover:from-blue-700 hover:to-pink-700 transition-all shadow-2xl button-glow">
<span class="flex items-center justify-center gap-3">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
Search
</span>
</button>
<p class="text-xs text-gray-600 mt-2">Enter your Staff ID to retrieve your records from the database</p>
</div>
</section>

<!-- Loading State -->
<div id="loadingState" class="hidden text-center py-12">
<div class="inline-block w-20 h-20 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mb-4"></div>
<p class="text-gray-600 text-xl font-semibold">Searching for your records...</p>
</div>

<!-- Staff Details Form -->
<div id="staffDetailsSection" class="hidden">
<div class="flex items-center gap-3 mb-6">
<div class="w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center shadow-xl">
<span class="text-white font-bold text-2xl">2</span>
</div>
<h2 class="text-2xl md:text-4xl font-bold text-gray-800">Review & Update Your Information</h2>
</div>

<form id="staffForm">
<div class="grid md:grid-cols-2 gap-6 mb-6">
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">First Name *</label>
<input type="text" id="firstName" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg">
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">Middle Name</label>
<input type="text" id="middleName" class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg">
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">Surname / Last Name *</label>
<input type="text" id="surname" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg">
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">Staff ID *</label>
<input type="text" id="staffId" required readonly class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl bg-gray-100 text-lg cursor-not-allowed">
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">Sex *</label>
<select id="sex" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg">
<option value="">Select Sex</option>
<option value="Male">Male</option>
<option value="Female">Female</option>
</select>
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">Staff Status (NTC Licensed?) *</label>
<select id="staffStatus" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg">
<option value="">Select Status</option>
<option value="YES">YES</option>
<option value="NO">NO</option>
</select>
</div>
<div id="ntcNumberField" class="hidden md:col-span-2">
    <label class="block text-sm font-bold text-gray-700 mb-2">NTC License Number *</label>
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
        <div class="relative">
            <div class="absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none z-10">
                <span class="text-gray-600 font-bold text-lg">PT/</span>
            </div>
            <input type="text" readonly id="ntcUniqueId" placeholder="Tap to enter" class="w-full pl-14 pr-12 py-4 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-lg font-bold text-gray-800 cursor-pointer" style="text-align: left;">
            <div class="absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none z-10">
                <span class="text-gray-600 font-bold text-lg">/</span>
            </div>
        </div>
        <select id="ntcYear" class="w-full px-4 py-4 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-lg font-bold text-gray-800">
            <option value="">Year</option>
        </select>
        <div class="hidden sm:flex items-center px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl text-gray-400 text-sm">
            <span class="text-center w-full">e.g., PT/00001/2018</span>
        </div>
    </div>
    <input type="hidden" id="ntcNumber">
    <div class="mt-3 p-3 bg-blue-50 border-2 border-blue-200 rounded-xl">
        <p class="text-sm font-semibold text-gray-700 mb-1">Current NTC Number:</p>
        <p class="text-lg font-bold text-blue-700" id="ntcDisplay">PT/____/____</p>
    </div>
    <p class="text-xs text-gray-600 mt-2">Tap the PT/ field to enter your unique ID number</p>
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">Email Address</label>
<input type="email" id="email" class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg">
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">Date of Birth *</label>
<div class="grid grid-cols-3 gap-2">
<select id="dobDay" required class="w-full px-3 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg">
<option value="">Day</option>
</select>
<select id="dobMonth" required class="w-full px-3 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg">
<option value="">Month</option>
<option value="1">January</option>
<option value="2">February</option>
<option value="3">March</option>
<option value="4">April</option>
<option value="5">May</option>
<option value="6">June</option>
<option value="7">July</option>
<option value="8">August</option>
<option value="9">September</option>
<option value="10">October</option>
<option value="11">November</option>
<option value="12">December</option>
</select>
<select id="dobYear" required class="w-full px-3 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg">
<option value="">Year</option>
</select>
</div>
<input type="hidden" id="dateOfBirth" required>
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">
Mobile Money Number *
<span class="block text-xs font-semibold text-red-600 mt-1">⚠ Must be registered in your name</span>
</label>
<input type="tel" id="mobileMoneyNumber" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg" placeholder="e.g., 0244123456">
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">Ghana Card Number *</label>
<input type="text" id="ghanaCardNumber" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg" placeholder="GHA-XXXXXXXXX-0">
</div>
<div class="md:col-span-2">
<label class="block text-sm font-bold text-gray-700 mb-2">Main Schedule *</label>
<input type="text" id="mainSchedule" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-lg" placeholder="e.g., Administrator, Teacher, etc.">
</div>
</div>

<!-- Confirmation Checkbox -->
<div class="mb-6 p-6 bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-2xl">
<label class="flex items-start gap-3 cursor-pointer">
<input type="checkbox" id="confirmDetails" required class="mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
<span class="text-sm font-semibold text-gray-800">
I confirm that all the information provided above is accurate and up-to-date. I understand that this information will be used for official records.
</span>
</label>
</div>

<!-- Action Buttons -->
<div class="mt-8 flex flex-col sm:flex-row gap-4">
<button type="button" onclick="exitToMainPage()" class="w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-bold text-base md:text-lg rounded-2xl hover:from-gray-600 hover:to-gray-700 transition-all shadow-xl">
<span class="flex items-center gap-2">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
</svg>
Close
</span>
</button>
<button type="submit" id="submitBtn" class="w-full flex-1 py-5 md:py-6 bg-gradient-to-r from-pink-600 via-purple-600 to-blue-600 text-white font-bold text-lg md:text-xl rounded-3xl hover:from-pink-700 hover:to-blue-700 transition-all shadow-2xl button-glow">
<span class="flex items-center justify-center gap-3">
<svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
Submit Staff Record
</span>
</button>
</div>
</form>
</div>
</div>

<!-- NTC ID Entry Dialog -->
<div id="ntcDialog" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
<div class="bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 transform transition-all">
<div class="text-center mb-6">
<div class="inline-block p-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4">
<svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path>
</svg>
</div>
<h3 class="text-2xl font-bold text-gray-800 mb-2">Enter NTC Unique ID</h3>
<p class="text-sm text-gray-600">Format: PT/<span class="font-bold text-blue-600">YOUR-ID</span>/YEAR</p>
</div>

<div class="mb-6">
<label class="block text-sm font-bold text-gray-700 mb-3">Your Unique ID Number</label>
<input type="tel" inputmode="numeric" pattern="[0-9]*" id="ntcDialogInput" placeholder="Enter numbers only" class="w-full px-6 py-4 border-2 border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-2xl font-bold text-center tracking-wider" autocomplete="off">
<p class="text-xs text-gray-500 mt-2 text-center">Numbers only (e.g., 00001 or 12345)</p>
</div>

<div class="mb-6 p-4 bg-blue-50 border-2 border-blue-200 rounded-xl">
<p class="text-sm font-semibold text-gray-700 mb-2">Preview:</p>
<p class="text-xl font-bold text-blue-600 text-center" id="ntcPreview">PT/____/____</p>
</div>

<div class="flex gap-3">
<button type="button" onclick="closeNTCDialog()" class="flex-1 px-6 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-all">
Cancel
</button>
<button type="button" onclick="saveNTCDialog()" class="flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg">
OK
</button>
</div>
</div>
</div>

<!-- Signature Section -->
<div class="mt-6 mb-8">
<div class="glass-effect rounded-3xl shadow-xl p-6 md:p-8 max-w-4xl mx-auto border-2 border-white/50">
<div class="text-center mb-6 pb-4 border-b-2 border-gray-200">
<div class="inline-flex items-center gap-2 mb-2">
<svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
</svg>
<p class="text-lg font-bold text-gray-800">Designed by</p>
</div>
<h3 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">
Statistics and Planning Unit
</h3>
<p class="text-sm text-gray-600 mt-1">Ahafo Ano South West Education Directorate</p>
</div>

<div class="grid md:grid-cols-2 gap-4">
<div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-5 rounded-2xl border-2 border-blue-200 hover:shadow-lg transition-all card-hover">
<div class="flex items-center gap-3">
<div class="w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center flex-shrink-0">
<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
</svg>
</div>
<div>
<p class="font-bold text-gray-800 text-sm">Kwame Agyekum Agyapong</p>
<p class="text-xs text-blue-700 font-semibold">Head of Department</p>
</div>
</div>
</div>

<div class="bg-gradient-to-br from-purple-50 to-pink-50 p-5 rounded-2xl border-2 border-purple-200 hover:shadow-lg transition-all card-hover">
<div class="flex items-center gap-3">
<div class="w-12 h-12 bg-gradient-to-br from-purple-600 to-purple-700 rounded-full flex items-center justify-center flex-shrink-0">
<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
</svg>
</div>
<div>
<p class="font-bold text-gray-800 text-sm">Aduanaba Kofi Nti</p>
<p class="text-xs text-purple-700 font-semibold">Statistics Officer</p>
</div>
</div>
</div>

<div class="bg-gradient-to-br from-green-50 to-emerald-50 p-5 rounded-2xl border-2 border-green-200 hover:shadow-lg transition-all card-hover">
<div class="flex items-center gap-3">
<div class="w-12 h-12 bg-gradient-to-br from-green-600 to-green-700 rounded-full flex items-center justify-center flex-shrink-0">
<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
</div>
<div>
<p class="font-bold text-gray-800 text-sm">Sarfo Rachel</p>
<p class="text-xs text-green-700 font-semibold">Research Officer</p>
</div>
</div>
</div>

<div class="bg-gradient-to-br from-orange-50 to-amber-50 p-5 rounded-2xl border-2 border-orange-200 hover:shadow-lg transition-all card-hover">
<div class="flex items-center gap-3">
<div class="w-12 h-12 bg-gradient-to-br from-orange-600 to-orange-700 rounded-full flex items-center justify-center flex-shrink-0">
<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
</svg>
</div>
<div>
<p class="font-bold text-gray-800 text-sm">Kwadwo Korankye</p>
<p class="text-xs text-orange-700 font-semibold">Planning Officer</p>
</div>
</div>
</div>
</div>

<div class="mt-6 pt-4 border-t border-gray-200 text-center">
<p class="text-xs text-gray-500 italic">Committed to Excellence in Educational Data Management</p>
</div>
</div>
</div>

<!-- Footer -->
<div class="text-center mt-8 text-white">
<p class="text-sm opacity-90">© 2026 Ghana Education Service - DEO Staff Records</p>
</div>
</div>

<script>
const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxOqjOhYTgPaU8sC9mx3IlbNXnXqy6rNiG5YD0o6Q13WPnl97UFX8FKdD8-EhyJvpQ1/exec';

// Populate Day dropdown (1-31)
const dobDaySelect = document.getElementById('dobDay');
for (let i = 1; i <= 31; i++) {
    const option = document.createElement('option');
    option.value = i;
    option.textContent = i;
    dobDaySelect.appendChild(option);
}

// Populate Year dropdown (1940 to current year - 18)
const dobYearSelect = document.getElementById('dobYear');
const currentYear = new Date().getFullYear();
const minYear = 1940;
const maxYear = currentYear - 18;
for (let i = maxYear; i >= minYear; i--) {
    const option = document.createElement('option');
    option.value = i;
    option.textContent = i;
    dobYearSelect.appendChild(option);
}

// Populate NTC Year dropdown (1957 to current year)
const ntcYearSelect = document.getElementById('ntcYear');
const ntcMinYear = 1957;
const ntcMaxYear = currentYear;
for (let i = ntcMaxYear; i >= ntcMinYear; i--) {
    const option = document.createElement('option');
    option.value = i;
    option.textContent = i;
    ntcYearSelect.appendChild(option);
}

// Update hidden dateOfBirth field
function updateDateOfBirth() {
    const day = document.getElementById('dobDay').value;
    const month = document.getElementById('dobMonth').value;
    const year = document.getElementById('dobYear').value;
    
    if (day && month && year) {
        const formattedMonth = month.padStart(2, '0');
        const formattedDay = day.padStart(2, '0');
        document.getElementById('dateOfBirth').value = `${year}-${formattedMonth}-${formattedDay}`;
    } else {
        document.getElementById('dateOfBirth').value = '';
    }
}

document.getElementById('dobDay').addEventListener('change', updateDateOfBirth);
document.getElementById('dobMonth').addEventListener('change', updateDateOfBirth);
document.getElementById('dobYear').addEventListener('change', updateDateOfBirth);

// NTC Number Functions
function updateNTCNumber() {
    const uniqueId = document.getElementById('ntcUniqueId').value;
    const year = document.getElementById('ntcYear').value;
    
    if (uniqueId && year) {
        document.getElementById('ntcNumber').value = `PT/${uniqueId}/${year}`;
        document.getElementById('ntcDisplay').textContent = `PT/${uniqueId}/${year}`;
    } else if (uniqueId) {
        document.getElementById('ntcNumber').value = '';
        document.getElementById('ntcDisplay').textContent = `PT/${uniqueId}/____`;
    } else if (year) {
        document.getElementById('ntcNumber').value = '';
        document.getElementById('ntcDisplay').textContent = `PT/____/${year}`;
    } else {
        document.getElementById('ntcNumber').value = '';
        document.getElementById('ntcDisplay').textContent = 'PT/____/____';
    }
}

function openNTCDialog() {
    const dialog = document.getElementById('ntcDialog');
    const input = document.getElementById('ntcDialogInput');
    const currentValue = document.getElementById('ntcUniqueId').value;
    
    input.value = currentValue;
    updateNTCPreview();
    dialog.classList.remove('hidden');
    
    setTimeout(() => input.focus(), 100);
}

function closeNTCDialog() {
    document.getElementById('ntcDialog').classList.add('hidden');
}

function saveNTCDialog() {
    const input = document.getElementById('ntcDialogInput').value;
    if (!input) {
        alert('Please enter a unique ID number');
        return;
    }
    document.getElementById('ntcUniqueId').value = input;
    updateNTCNumber();
    closeNTCDialog();
    
    // Show visual confirmation
    const ntcDisplay = document.getElementById('ntcDisplay');
    ntcDisplay.style.backgroundColor = '#dbeafe';
    setTimeout(() => {
        ntcDisplay.style.backgroundColor = '';
    }, 1000);
}

function updateNTCPreview() {
    const input = document.getElementById('ntcDialogInput').value;
    const year = document.getElementById('ntcYear').value || '____';
    const preview = document.getElementById('ntcPreview');
    preview.textContent = `PT/${input || '____'}/${year}`;
}

document.getElementById('ntcUniqueId').addEventListener('click', openNTCDialog);

document.getElementById('ntcDialogInput').addEventListener('input', function(e) {
    this.value = this.value.replace(/[^0-9]/g, '');
    updateNTCPreview();
});

document.getElementById('ntcDialogInput').addEventListener('keypress', function(e) {
    if (e.key && !/[0-9]/.test(e.key) && e.key !== 'Enter') {
        e.preventDefault();
    }
    if (e.key === 'Enter') {
        e.preventDefault();
        saveNTCDialog();
    }
});

document.getElementById('ntcDialogInput').addEventListener('paste', function(e) {
    e.preventDefault();
    const pastedText = (e.clipboardData || window.clipboardData).getData('text');
    const numericOnly = pastedText.replace(/[^0-9]/g, '');
    this.value = numericOnly;
    updateNTCPreview();
});

document.getElementById('ntcYear').addEventListener('change', function() {
    updateNTCNumber();
    const dialogInput = document.getElementById('ntcDialogInput').value;
    if (dialogInput) {
        updateNTCPreview();
    }
    
    // Show visual confirmation
    if (this.value) {
        const ntcDisplay = document.getElementById('ntcDisplay');
        ntcDisplay.style.backgroundColor = '#dbeafe';
        setTimeout(() => {
            ntcDisplay.style.backgroundColor = '';
        }, 1000);
    }
});

// Staff Status handler
document.getElementById('staffStatus').addEventListener('change', function() {
    const ntcField = document.getElementById('ntcNumberField');
    const ntcUniqueId = document.getElementById('ntcUniqueId');
    const ntcYear = document.getElementById('ntcYear');
    
    if (this.value === 'YES') {
        ntcField.classList.remove('hidden');
        ntcUniqueId.required = true;
        ntcYear.required = true;
    } else {
        ntcField.classList.add('hidden');
        ntcUniqueId.required = false;
        ntcYear.required = false;
        ntcUniqueId.value = '';
        ntcYear.value = '';
        document.getElementById('ntcNumber').value = '';
    }
});

// Staff ID Search
document.getElementById('searchStaffBtn').addEventListener('click', searchStaff);
document.getElementById('staffIdInput').addEventListener('keypress', function(e) {
    if (e.key && !/[0-9]/.test(e.key) && e.key !== 'Enter') {
        e.preventDefault();
        return;
    }
    if (e.key === 'Enter') {
        e.preventDefault();
        searchStaff();
    }
});

document.getElementById('staffIdInput').addEventListener('paste', function(e) {
    e.preventDefault();
    const pastedText = (e.clipboardData || window.clipboardData).getData('text');
    const numericOnly = pastedText.replace(/[^0-9]/g, '');
    this.value = numericOnly;
});

async function searchStaff() {
    const staffIdInput = document.getElementById('staffIdInput');
    const staffId = staffIdInput.value.trim();
    
    if (!staffId) {
        showStatus('Please enter a Staff ID', false);
        return;
    }
    
    document.getElementById('loadingState').classList.remove('hidden');
    document.getElementById('authSection').classList.add('hidden');
    
    try {
        const response = await fetch(`${SCRIPT_URL}?action=getStaffByID&staffId=${encodeURIComponent(staffId)}`);
        
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        
        const result = await response.json();
        
        document.getElementById('loadingState').classList.add('hidden');
        
        if (result.status === 'success' && result.staff) {
            populateForm(result.staff);
            document.getElementById('staffDetailsSection').classList.remove('hidden');
            showStatus('Staff record found! Please review and update your information.', true);
        } else if (result.status === 'not_found') {
            document.getElementById('authSection').classList.remove('hidden');
            showAddNewRecordOption(staffId);
        } else {
            document.getElementById('authSection').classList.remove('hidden');
            showStatus(result.message || 'Error searching for staff record. Please try again.', false);
            showAddNewRecordOption(staffId);
        }
    } catch (error) {
        console.error('Error details:', error);
        document.getElementById('loadingState').classList.add('hidden');
        document.getElementById('authSection').classList.remove('hidden');
        showStatus('Error connecting to database. Please check your internet connection and try again.', false);
        showAddNewRecordOption(staffId);
    }
}

function showAddNewRecordOption(staffId) {
    const message = `
        <div class="mb-6 p-6 bg-gradient-to-br from-orange-50 to-red-50 border-2 border-orange-400 rounded-2xl">
            <div class="flex items-start gap-3 mb-4">
                <svg class="w-7 h-7 text-orange-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                </svg>
                <div>
                    <p class="font-bold text-gray-800 text-lg mb-2">Staff ID Not Found</p>
                    <p class="text-gray-700 mb-4">The Staff ID "${staffId}" was not found in our database. Please:</p>
                    <ul class="text-sm text-gray-700 space-y-2 mb-4">
                        <li>• Double-check your Staff ID and try again, OR</li>
                        <li>• Click "Add Your Record" below to create a new entry</li>
                    </ul>
                    <button onclick="addNewRecord('${staffId}')" class="px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg">
                        Add Your Record
                    </button>
                </div>
            </div>
        </div>
    `;
    
    const authSection = document.getElementById('authSection');
    const existingWarning = authSection.querySelector('.bg-gradient-to-br.from-orange-50');
    if (existingWarning) {
        existingWarning.remove();
    }
    authSection.insertAdjacentHTML('beforeend', message);
}

function addNewRecord(staffId) {
    document.getElementById('authSection').classList.add('hidden');
    document.getElementById('staffDetailsSection').classList.remove('hidden');
    document.getElementById('staffId').value = staffId;
    showStatus('Adding new staff record. Please fill in all required information.', true);
}

function populateForm(staff) {
    document.getElementById('firstName').value = staff.firstName || '';
    document.getElementById('middleName').value = staff.middleName || '';
    document.getElementById('surname').value = staff.surname || '';
    document.getElementById('staffId').value = staff.staffId || '';
    document.getElementById('sex').value = staff.sex || '';
    document.getElementById('staffStatus').value = staff.staffStatus || '';
    document.getElementById('email').value = staff.email || '';
    document.getElementById('mobileMoneyNumber').value = staff.mobileMoneyNumber || '';
    document.getElementById('ghanaCardNumber').value = staff.ghanaCardNumber || '';
    document.getElementById('mainSchedule').value = staff.mainSchedule || '';
    
    if (staff.dateOfBirth) {
        const dateParts = staff.dateOfBirth.split('-');
        if (dateParts.length === 3) {
            document.getElementById('dobYear').value = dateParts[0];
            document.getElementById('dobMonth').value = parseInt(dateParts[1], 10).toString();
            document.getElementById('dobDay').value = parseInt(dateParts[2], 10).toString();
            document.getElementById('dateOfBirth').value = staff.dateOfBirth;
        }
    }
    

    
    if (staff.staffStatus === 'YES') {
        document.getElementById('ntcNumberField').classList.remove('hidden');
        document.getElementById('ntcUniqueId').required = true;
        document.getElementById('ntcYear').required = true;
        
        if (staff.ntcNumber) {
            const ntcParts = staff.ntcNumber.split('/');
            if (ntcParts.length === 3 && ntcParts[0] === 'PT') {
                document.getElementById('ntcUniqueId').value = ntcParts[1];
                document.getElementById('ntcYear').value = ntcParts[2];
                document.getElementById('ntcNumber').value = staff.ntcNumber;
                document.getElementById('ntcDisplay').textContent = staff.ntcNumber;
            }
        }
    }
}

function exitToMainPage() {
    if (confirm('Are you sure you want to exit? Any unsaved changes will be lost.')) {
        location.reload();
    }
}

async function downloadPDF() {
    try {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        
        doc.setFillColor(59, 130, 246);
        doc.rect(0, 0, 210, 40, 'F');
        doc.setTextColor(255, 255, 255);
        doc.setFontSize(22);
        doc.text('DEO STAFF RECORDS 2026', 105, 15, { align: 'center' });
        doc.setFontSize(12);
        doc.text('Ahafo Ano South-West Education Directorate', 105, 25, { align: 'center' });
        doc.setTextColor(16, 185, 129);
        doc.setFontSize(14);
        doc.text('✓ SUBMISSION CONFIRMED', 105, 35, { align: 'center' });
        
        doc.setTextColor(0, 0, 0);
        doc.setFontSize(11);
        let y = 55;
        
        const addField = (label, value) => {
            doc.setFont(undefined, 'bold');
            doc.text(label, 20, y);
            doc.setFont(undefined, 'normal');
            doc.text(value || 'N/A', 80, y);
            y += 8;
        };
        
        addField('First Name:', document.getElementById('firstName').value);
        addField('Middle Name:', document.getElementById('middleName').value);
        addField('Surname:', document.getElementById('surname').value);
        addField('Staff ID:', document.getElementById('staffId').value);
        addField('Sex:', document.getElementById('sex').value);
        addField('Date of Birth:', document.getElementById('dateOfBirth').value);
        addField('NTC Licensed:', document.getElementById('staffStatus').value);
        if (document.getElementById('staffStatus').value === 'YES') {
            addField('NTC Number:', document.getElementById('ntcNumber').value);
        }
        addField('Email:', document.getElementById('email').value);
        addField('Mobile Money Number:', document.getElementById('mobileMoneyNumber').value);
        addField('Ghana Card Number:', document.getElementById('ghanaCardNumber').value);
        addField('Main Schedule:', document.getElementById('mainSchedule').value);
        
        doc.setFontSize(9);
        doc.setTextColor(107, 114, 128);
        doc.text(`Submission Date: ${new Date().toLocaleString()}`, 105, 280, { align: 'center' });
        doc.text('Statistics & Planning Unit', 105, 285, { align: 'center' });
        
        doc.save(`DEO_Staff_Receipt_${document.getElementById('staffId').value}.pdf`);
    } catch (error) {
        console.error('PDF Download Error:', error);
        alert('Error generating PDF. Please try again.');
    }
}

async function downloadReceipt() {
    try {
        const receiptHTML = `
            <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; background: white;">
                <div style="text-align: center; margin-bottom: 30px; border-bottom: 3px solid #3b82f6; padding-bottom: 20px;">
                    <h1 style="color: #1e40af; margin: 0; font-size: 28px;">DEO STAFF RECORDS 2026</h1>
                    <p style="color: #6b7280; margin: 10px 0 0 0;">Ahafo Ano South-West Education Directorate</p>
                    <p style="color: #10b981; font-weight: bold; margin: 10px 0 0 0;">✓ SUBMISSION CONFIRMED</p>
                </div>
                
                <div style="background: #f3f4f6; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h2 style="color: #374151; font-size: 18px; margin: 0 0 15px 0;">Personal Information</h2>
                    <table style="width: 100%; border-collapse: collapse;">
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">First Name:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('firstName').value}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">Middle Name:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('middleName').value || 'N/A'}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">Surname:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('surname').value}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">Staff ID:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('staffId').value}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">Sex:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('sex').value}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">Date of Birth:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('dateOfBirth').value}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">NTC Licensed:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('staffStatus').value}</td>
                        </tr>
                        ${document.getElementById('staffStatus').value === 'YES' ? `
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">NTC Number:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('ntcNumber').value}</td>
                        </tr>
                        ` : ''}
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">Email:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('email').value || 'N/A'}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">Mobile Money Number:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('mobileMoneyNumber').value}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">Ghana Card Number:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('ghanaCardNumber').value}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold; color: #4b5563;">Main Schedule:</td>
                            <td style="padding: 8px; color: #1f2937;">${document.getElementById('mainSchedule').value}</td>
                        </tr>
                    </table>
                </div>
                
                <div style="text-align: center; margin-top: 30px; padding-top: 20px; border-top: 2px solid #e5e7eb;">
                    <p style="color: #6b7280; font-size: 12px; margin: 5px 0;">Submission Date: ${new Date().toLocaleString()}</p>
                    <p style="color: #6b7280; font-size: 12px; margin: 5px 0;">Statistics & Planning Unit</p>
                </div>
            </div>
        `;
        
        const container = document.createElement('div');
        container.innerHTML = receiptHTML;
        container.style.position = 'absolute';
        container.style.left = '-9999px';
        document.body.appendChild(container);
        
        const canvas = await html2canvas(container.firstElementChild, {
            backgroundColor: '#ffffff',
            scale: 2
        });
        
        document.body.removeChild(container);
        
        const link = document.createElement('a');
        link.download = `DEO_Staff_Receipt_${document.getElementById('staffId').value}_${Date.now()}.png`;
        link.href = canvas.toDataURL('image/png');
        link.click();
    } catch (error) {
        console.error('Image Download Error:', error);
        alert('Error generating image. Please try again.');
    }
}

document.getElementById('staffForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    if (!document.getElementById('confirmDetails').checked) {
        showStatus('Please confirm that your information is accurate before submitting.', false);
        return;
    }
    
    const submitBtn = document.getElementById('submitBtn');
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<span class="flex items-center justify-center gap-3"><div class="w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"></div>Submitting...</span>';
    
    const formData = {
        firstName: document.getElementById('firstName').value,
        middleName: document.getElementById('middleName').value,
        surname: document.getElementById('surname').value,
        staffId: document.getElementById('staffId').value,
        sex: document.getElementById('sex').value,
        staffStatus: document.getElementById('staffStatus').value,
        ntcNumber: document.getElementById('staffStatus').value === 'YES' ? document.getElementById('ntcNumber').value : '',
        email: document.getElementById('email').value,
        dateOfBirth: document.getElementById('dateOfBirth').value,
        mobileMoneyNumber: document.getElementById('mobileMoneyNumber').value,
        ghanaCardNumber: document.getElementById('ghanaCardNumber').value,
        mainSchedule: document.getElementById('mainSchedule').value
    };
    
    try {
        await fetch(SCRIPT_URL, {
            method: 'POST',
            mode: 'no-cors',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData)
        });
        
        handleSuccessfulSubmission(submitBtn);
        
    } catch (error) {
        console.error('Error:', error);
        handleSuccessfulSubmission(submitBtn);
    }
});

function handleSuccessfulSubmission(submitBtn) {
    submitBtn.disabled = false;
    submitBtn.className = 'flex-1 py-6 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-bold text-xl rounded-3xl transition-all shadow-2xl';
    submitBtn.innerHTML = '<span class="flex items-center justify-center gap-3"><svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>Successfully Submitted!</span>';
    
    showStatus('✅ SUCCESS! Your staff record has been submitted to "DEO STAFF RECORDS 2026". Thank you for updating your information!', true);
    
    window.scrollTo({ top: 0, behavior: 'smooth' });
    
    const formInputs = document.querySelectorAll('#staffForm input, #staffForm select');
    formInputs.forEach(input => input.disabled = true);
    
    setTimeout(() => {
        const btnContainer = document.createElement('div');
        btnContainer.className = 'flex flex-col sm:flex-row gap-3 sm:gap-4 mb-6';
        btnContainer.id = 'downloadButtons';
        
        const pdfBtn = document.createElement('button');
        pdfBtn.type = 'button';
        pdfBtn.className = 'w-full sm:flex-1 px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-red-600 to-pink-600 text-white font-bold text-base sm:text-lg rounded-2xl hover:from-red-700 hover:to-pink-700 transition-all shadow-xl';
        pdfBtn.innerHTML = '<span class="flex items-center justify-center gap-2"><svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>Download PDF</span>';
        pdfBtn.onclick = downloadPDF;
        
        const imgBtn = document.createElement('button');
        imgBtn.type = 'button';
        imgBtn.className = 'w-full sm:flex-1 px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold text-base sm:text-lg rounded-2xl hover:from-blue-700 hover:to-indigo-700 transition-all shadow-xl';
        imgBtn.innerHTML = '<span class="flex items-center justify-center gap-2"><svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>Download Image</span>';
        imgBtn.onclick = downloadReceipt;
        
        const anotherBtn = document.createElement('button');
        anotherBtn.type = 'button';
        anotherBtn.className = 'w-full sm:flex-1 px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold text-base sm:text-lg rounded-2xl hover:from-purple-700 hover:to-pink-700 transition-all shadow-xl';
        anotherBtn.innerHTML = '<span class="flex items-center justify-center gap-2"><svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>Submit Another</span>';
        anotherBtn.onclick = () => location.reload();
        
        btnContainer.appendChild(pdfBtn);
        btnContainer.appendChild(imgBtn);
        btnContainer.appendChild(anotherBtn);
        
        const statusMessage = document.getElementById('statusMessage');
        statusMessage.parentElement.insertBefore(btnContainer, statusMessage.nextSibling);
        
        submitBtn.style.display = 'none';
        
    }, 1000);
}

function showStatus(message, isSuccess) {
    const statusDiv = document.getElementById('statusMessage');
    const statusIcon = document.getElementById('statusIcon');
    const statusText = document.getElementById('statusText');

    statusDiv.className = `mb-6 p-5 rounded-2xl flex items-start gap-3 border-2 ${isSuccess ? 'bg-gradient-to-br from-green-50 to-emerald-50 border-green-300' : 'bg-gradient-to-br from-orange-50 to-red-50 border-orange-300'}`;
    statusIcon.innerHTML = isSuccess 
        ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>'
        : '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>';
    statusIcon.className = `w-7 h-7 mt-0.5 flex-shrink-0 ${isSuccess ? 'text-green-600' : 'text-orange-600'}`;
    statusText.className = `font-semibold text-lg ${isSuccess ? 'text-green-800' : 'text-orange-800'}`;
    statusText.textContent = message;

    statusDiv.classList.remove('hidden');
    statusDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}
</script>
</body>
</html>